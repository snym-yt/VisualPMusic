<!DOCTYPE html>
<html>

  <head>
    <title>PMusic</title>
    <script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/blockly_compressed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/blocks_compressed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/msg/js/en.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/javascript_compressed.min.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  </head>

  <body>

    <div id="content" style="display:flex;">
      <div>
        <div id="code" style="width: 800px; padding: 5px;"><pre/></div>
        <button onclick="runCode();">Run</button>
      </div>
      <div id="blocklyDiv" style="height: 650px; width: 1100px; padding: 5px"></div>
    </div>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/marked@3.0.7/marked.min.js"></script>
    <style>
        /* 横幅が長い場合に改行するためのスタイル */
        .scroll-container {
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            overflow-x: auto; /* 横スクロール可能にする */
            max-width: 1877px; /* 任意の横幅を指定 */
            max-height: 300px; /* 任意の縦幅を指定 */
            border: 1px solid #ccc; /* 枠線を追加（任意） */
            padding: 10px; /* 任意の余白を指定 */
        }
    </style>

    <div id="markdown_preview" class="scroll-container">
      <!-- ここに出力される -->
    </div>
    <script src="Instruction/inst_markdown.js"></script>

    <xml id="toolbox" style="display: none">
      <category name="Default">
        <block type="controls_if"></block>
        <!-- <block type="controls_repeat_ext"></block> -->
        <block type="logic_compare"></block>
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
        <!-- <block type="text"></block>
        <block type="text_print"></block> -->
      </category>

      <category name="Music" colour="0">
        <block type="play"></block>
        <block type="random"></block>
        <block type="gauss"></block>
        <block type="weibul"></block>
        <block type="randwalk"></block>
        <!-- <block type="custom_test"></block> -->
      </category>

      <category name="Loops" colour="120">
        <block type="controls_repeat_ext">
          <value name="TIMES">
            <shadow type="math_number">
              <field name="NUM">10</field>
            </shadow>
          </value>
        </block>
        <block type="controls_whileUntil"></block>
        <!-- <block type="loop"></block> -->
      </category>


      <category name="Variables" colour="330" custom="VARIABLE"></category>

      <category name="Lists" colour="260">
        <block type="lists_create_with">
          <mutation items="0"></mutation>
        </block>
        <block type="lists_create_with"></block>
        <block type="lists_length"></block>
      </category>
    </xml>

    <xml id="startBlocks" style="display: none">
      <block type="text_print" id="0@)u5QVs/@*zX^XXw%Lp" x="35" y="21">
        <value name="TEXT">
          <shadow type="text" id="=[)BkyD!BK*AF%PcBi9;">
            <field name="TEXT">Hello, World</field>
          </shadow>
        </value>
      </block>
    </xml>

    <script src="blocks/js/play_block2.js"></script>
    <script src="generators/play2.js"></script>

    <script src="blocks/js/random_block.js"></script>
    <script src="generators/random.js"></script>

    <script src="blocks/js/custom_test_block.js"></script>
    <script src="generators/custom_test.js"></script>

    <script src="blocks/js/gauss_block2.js"></script>
    <script src="generators/gauss2.js"></script>

    <script src="blocks/js/weibul_block2.js"></script>
    <script src="generators/weibul2.js"></script>

    <script src="blocks/js/randwalk_block.js"></script>
    <script src="generators/randwalk.js"></script>

    <!-- ループは標準のを使って正規表現で書き換える -->
    <!-- <script src="blocks/js/loop_block.js"></script>
    <script src="generators/loop.js"></script> -->

    <script src="script.js"></script>




  </body>

</html>

